# Prácticas Docker

## 6. Contenedores interactivos

- Vamos a crear un contenedor interactivo con una imagen de Fedora:

```
docker run -it fedora bash

[root@c284d12f3db6 /]#
```

- Podemos ver los datos del sistema operativo:

```
uname -a

Linux c284d12f3db6 3.10.0-693.11.1.el7.x86_64 #1 SMP Mon
Dec 4 23:52:40 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux
```

- Desde otro terminal, comprobamos si el contenedor está activo:

```
docker ps
CONTAINER ID        IMAGE       COMMAND     CREATED     STATUS  PORTS NAMES
c284d12f3db6        fedora "bash"  26 minutes ago Up 26 minutes jolly_clarke
```

- Podemos ver las imágenes donde está la que acabamos de descargar:

```
docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
fedora              latest              c284d12f3db6        26 minutes ago      5.8 MB
```

- Hacemos por ejemplo un upgrade del sistema:

```
yum update

Fedora 27 - x86_64 - Updates 2.5 MB/s |
21 MB 00:08
Fedora 27 - x86_64 2.2 MB/s |
58 MB 00:26
Last metadata expiration check: 0:00:06 ago on Fri Mar 16
11:20:28 2018.
```

- Intentamos hacer un wget y vemos que no existe:

```
wget

bash: wget: command not found
```

- Lo instalamos:

```
yum install wget
```

- Intentamos hacer un wget y vemos que existe:

```
wget www.oracle.com

--2018-03-16 11:35:07-- http://www.oracle.com/
Resolving www.oracle.com (www.oracle.com)... 2.19.165.3,
2a02:26f0:13c:280::366, 2a02:26f0:13c:294::366
Connecting to www.oracle.com
(www.oracle.com)|2.19.165.3|:80... connected.
```

- Hacemos un exit del contenedor:

```
exit
```

- Podemos comprobar que ya no está activo, que ese encuentra entre los
  parados:

```
docker ps

CONTAINER ID        IMAGE       COMMAND     CREATED     STATUS  PORTS NAMES

docker ps -a

CONTAINER ID        IMAGE       COMMAND     CREATED     STATUS  PORTS NAMES
c284d12f3db6        fedora "bash"  26 minutes ago Exited (0) 26 minutes jolly_clarke
```

- Ahora lo volvemos a arrancar. En mi caso, el contenedor tiene el id
  c284d12f3db6. Podemos usar solo los 4 primeros caracteres:

```
docker start -i c284

[root@c284d12f3db6 /]#
```

- Desde otro terminal lo vamos a parar y comprobamos:

```
docker stop c284

c284
```

- Desde otro terminal lo vamos a parar y comprobamos:

```
docker stop c284

c284

docker ps

CONTAINER ID        IMAGE       COMMAND     CREATED     STATUS  PORTS NAMES


docker ps -a

CONTAINER ID        IMAGE       COMMAND     CREATED     STATUS  PORTS NAMES
c284d12f3db6        fedora "bash"  26 minutes ago Exited (0) 26 minutes jolly_clarke

```
